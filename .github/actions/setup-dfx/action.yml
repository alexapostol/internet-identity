name: 'Setup DFX'
description: Setup DFX
runs:
  using: "composite"
  steps:
    - name: Install DFX
      shell: bash
      run: |
        if [[ "$(command -v dfx)" ]]
        then
          echo "DFX restored from cache"
        else
          echo "DFX not restored from cache, running install script:"
          sh -ci "$(curl -fsSL https://sdk.dfinity.org/install.sh)"
        fi
        echo "DFX version"
        dfx --version
